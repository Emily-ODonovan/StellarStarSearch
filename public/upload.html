<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stellar Star Search</title>
    <script defer src="imageProcessing.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Upload your image!</h1>
    <form onsubmit="loadFromForm()" id="input">
        <label for="brightness">I'm the brightness detection slider! If not enough or too many stars show up adjust
            me!</label>
        <p id="brightIndicator">Brightness: 75</p>
        <input type="range" id="brightness" name="If not enough or too many stars show up adjust me!" default-value="75"
            min="50" max="150">
        <input type="file" id="imgUpload" accept="image/jpeg, image/png, image/jpg">
        <input type="submit" value="Upload">
    </form>
    <p id="test"></p>
    <div id="previewDiv">
        <img id="out" class="previewImg">
        <canvas id="previewCanvas" class="preview" width="200" height="100"></canvas>
    </div>
    <div id="resultDiv">
        <h1 id="starName"></h1>
        <p id="starInfo">
            <div id="aladin-lite-div" style="width:600px;height:600px;"></div>
        </p>
    </div>

    <script type="text/javascript" src="https://aladin.cds.unistra.fr/AladinLite/api/v3/latest/aladin.js"
        charset="utf-8"></script>
    <script type="text/javascript">
        let aladin;
        A.init.then(() => {
            aladin = A.aladin('#aladin-lite-div', { survey: "P/DSS2/color", fov: 60, cooFrame: "galactic" });
        });
    </script>

    <script>
        var form = document.getElementById("input");
        function handleForm(event) { event.preventDefault(); }
        form.addEventListener('submit', handleForm);
        const indicataor = document.getElementById("brightIndicator");

        var slider = document.getElementById("brightness");
        slider.addEventListener("change", (event) => {
            indicataor.innerHTML = "Brightness: " + slider.value;
        });

    </script>
</body>

</html>